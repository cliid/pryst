// Test block-level using declarations
namespace math {
    fn add(int x, int y) -> int {
        return x + y;
    }

    fn multiply(int x, int y) -> int {
        return x * y;
    }
}

module web {
    fn host() -> str {
        return "localhost";
    }

    fn port() -> int {
        return 8080;
    }
}

fn main() -> int {
    // Test namespace using declaration in block
    {
        using namespace math;
        print(add(5, 3));  // Should work, prints 8
        print(multiply(4, 2));  // Should work, prints 8
    }
    // math::add should not be accessible here

    // Test module using declaration in nested block
    {
        using module web;
        print(host());  // Should work, prints "localhost"
        {
            // Test nested block with different using declaration
            using namespace math;
            print(multiply(port(), 2));  // Should work, prints 16160
        }
        print(port());  // Should work, prints 8080
    }
    // web::host should not be accessible here

    // Test that using declarations from previous blocks are not accessible
    print(math::add(1, 2));  // Should work with qualified name
    print(web::host());  // Should work with qualified name

    return 0;
}
